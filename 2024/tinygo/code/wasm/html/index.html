<!doctype html>
<html lang=en>

<head>
    <meta charset=utf-8>
    <title>TinyGo WASM Demo</title>

    <script src="wasm_exec.js" type="text/javascript"></script>
    <script src="wasm.js" type="text/javascript"></script>    
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Dots&display=swap" rel="stylesheet">
</head>

<body class="background">
    <div id="content">
        <h1 id="h1">Hello WebAssembly-World</h1>
        <h2 id="h">powered by TinyGo</h2>

    <p>Add two numbers, using WebAssembly calling an add() method written in Go:</p>
    <input type="number" id="a" value="2" /> + <input type="number" id="b" value="2" /> = <input type="number" id="result"/>
    <button>Calculate</button>
    <script>
        const button = document.querySelector('button');

        button.addEventListener('click', event => {
            var a = parseInt(document.getElementById("a").value);
            var b = parseInt(document.getElementById("b").value);
            var res = wasm.exports.add(a, b);
            var sum_box = document.getElementById("result");
            sum_box.value = res;
        });
    </script>
    </div>
</body>

</html>